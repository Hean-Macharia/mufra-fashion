{% extends "base.html" %}

{% block title %}Browse Categories - MUFRA FASHIONS{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Page Header -->
    <div class="mb-5">
        <h1 class="display-5 fw-bold text-charcoal mb-2">Browse Our Collection</h1>
        <p class="lead text-grey-medium">Discover trendy shoes and clothes for every occasion</p>
    </div>

    <!-- SHOES SECTION -->
    {% if shoes_products %}
    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="display-6 fw-bold text-charcoal mb-0">üëü Shoes</h2>
                <small class="text-grey-medium">Step in style with our latest collection</small>
            </div>
        </div>
        
        <!-- DESKTOP GRID -->
        <div class="d-none d-md-block">
            <div class="row g-4">
                {% for product in shoes_products[:6] %}
                <div class="col-md-6 col-lg-4">
                    {% include 'includes/product_card_desktop.html' %}
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- MOBILE SCROLL -->
        <div class="d-md-none">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for product in shoes_products %}
                    <div class="horizontal-scroll-item">
                        {% include 'includes/product_card_mobile.html' %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- CLOTHES SECTION -->
    {% if clothes_products %}
    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="display-6 fw-bold text-charcoal mb-0">üëï Clothes</h2>
                <small class="text-grey-medium">Trending styles for every season</small>
            </div>
        </div>
        
        <!-- DESKTOP GRID -->
        <div class="d-none d-md-block">
            <div class="row g-4">
                {% for product in clothes_products[:6] %}
                <div class="col-md-6 col-lg-4">
                    {% include 'includes/product_card_desktop.html' %}
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- MOBILE SCROLL -->
        <div class="d-md-none">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for product in clothes_products %}
                    <div class="horizontal-scroll-item">
                        {% include 'includes/product_card_mobile.html' %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- NEW ITEMS SECTION -->
    {% if new_products %}
    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="display-6 fw-bold text-charcoal mb-0">‚ú® New Arrivals</h2>
                <small class="text-grey-medium">Fresh items just added</small>
            </div>
        </div>
        
        <!-- DESKTOP GRID -->
        <div class="d-none d-md-block">
            <div class="row g-4">
                {% for product in new_products[:6] %}
                <div class="col-md-6 col-lg-4">
                    {% include 'includes/product_card_desktop.html' %}
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- MOBILE SCROLL -->
        <div class="d-md-none">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for product in new_products %}
                    <div class="horizontal-scroll-item">
                        {% include 'includes/product_card_mobile.html' %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- SECOND HAND SECTION -->
    {% if secondhand_products %}
    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="display-6 fw-bold text-charcoal mb-0">üîÑ Pre-Loved</h2>
                <small class="text-grey-medium">Sustainable style at great prices</small>
            </div>
        </div>
        
        <!-- DESKTOP GRID -->
        <div class="d-none d-md-block">
            <div class="row g-4">
                {% for product in secondhand_products[:6] %}
                <div class="col-md-6 col-lg-4">
                    {% include 'includes/product_card_desktop.html' %}
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- MOBILE SCROLL -->
        <div class="d-md-none">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for product in secondhand_products %}
                    <div class="horizontal-scroll-item">
                        {% include 'includes/product_card_mobile.html' %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- FEATURED SECTION -->
    {% if featured_products %}
    <section class="mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="display-6 fw-bold text-charcoal mb-0">‚≠ê Featured</h2>
                <small class="text-grey-medium">Our editor's top picks</small>
            </div>
        </div>
        
        <!-- DESKTOP GRID -->
        <div class="d-none d-md-block">
            <div class="row g-4">
                {% for product in featured_products[:6] %}
                <div class="col-md-6 col-lg-4">
                    {% include 'includes/product_card_desktop.html' %}
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- MOBILE SCROLL -->
        <div class="d-md-none">
            <div class="horizontal-scroll-wrapper">
                <div class="horizontal-scroll-container">
                    {% for product in featured_products %}
                    <div class="horizontal-scroll-item">
                        {% include 'includes/product_card_mobile.html' %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Empty State -->
    {% if not products %}
    <div class="text-center py-5">
        <i class="fas fa-inbox fa-5x text-grey-medium mb-4"></i>
        <h3 class="text-charcoal">No products available</h3>
        <p class="text-grey-medium">Please check back soon!</p>
        <a href="{{ url_for('home') }}" class="btn btn-magenta mt-3">
            <i class="fas fa-home me-2"></i> Back to Home
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* Horizontal Scroll Styles */
    .horizontal-scroll-wrapper {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        padding: 8px 0;
        margin: -8px 0;
    }

    .horizontal-scroll-container {
        display: flex;
        flex-wrap: nowrap;
        gap: 16px;
        padding: 8px 0;
    }

    .horizontal-scroll-item {
        flex: 0 0 auto;
        width: 320px;
    }

    .horizontal-scroll-wrapper::-webkit-scrollbar {
        height: 4px;
    }

    .horizontal-scroll-wrapper::-webkit-scrollbar-track {
        background: rgba(216, 27, 96, 0.1);
        border-radius: 10px;
    }

    .horizontal-scroll-wrapper::-webkit-scrollbar-thumb {
        background: #D81B60;
        border-radius: 10px;
    }

    /* Section Headers */
    .section-header {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 1.5rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        border-left: 4px solid #d81b60;
    }

    .section-header h2 {
        margin-bottom: 0.25rem;
        font-weight: 700;
        color: #2c3e50;
    }

    .section-header small {
        color: #6c757d;
        font-weight: 500;
    }

    /* Grid Layout Improvements */
    .row.g-4 {
        margin-bottom: 2rem;
    }

    /* Section Animations */
    section {
        animation: slideInUp 0.6s ease-out;
        margin-bottom: 3rem;
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Stagger animations for sections */
    section:nth-child(1) { animation-delay: 0.1s; }
    section:nth-child(2) { animation-delay: 0.2s; }
    section:nth-child(3) { animation-delay: 0.3s; }
    section:nth-child(4) { animation-delay: 0.4s; }
    section:nth-child(5) { animation-delay: 0.5s; }

    /* Page Header Enhancement */
    .page-header {
        text-align: center;
        margin-bottom: 3rem;
        padding: 2rem 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
    }

    .page-header h1 {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .page-header p {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 0;
    }

    /* Empty State Enhancement */
    .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .empty-state i {
        font-size: 4rem;
        color: #6c757d;
        margin-bottom: 1.5rem;
        opacity: 0.6;
    }

    .empty-state h3 {
        color: #2c3e50;
        margin-bottom: 1rem;
    }

    .empty-state p {
        color: #6c757d;
        margin-bottom: 2rem;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .page-header {
            margin-bottom: 2rem;
            padding: 1.5rem 1rem;
        }

        .page-header h1 {
            font-size: 2rem;
        }

        .page-header p {
            font-size: 1rem;
        }

        .section-header {
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .horizontal-scroll-item {
            width: 320px;
        }
    }
</style>
{% endblock %}